document.getElementById("simulator-form").addEventListener("submit",(e=>{e.preventDefault(),drawChart()})),window.addEventListener("resize",drawChart),google.charts.load("current",{packages:["corechart"]});const fetchApi=()=>{fetch("http://localhost:3000/simulacoes?tipoIndexacao=pre&tipoRendimento=liquido").then((e=>e.json())).then((e=>{const{semAporte:t,comAporte:o}=e[0].graficoValores;formatApiReturn([t,o]),console.log("a")}))};function formatApiReturn(e){let t=[["Meses","Sem Aporte","Com Aporte"]];for(let o in e[0])t.push([o,e[0][o],e[1][o]]);localStorage.setItem("graphValues",JSON.stringify(t)),drawChart()}function drawChart(){localStorage.graphValues||fetch("http://localhost:3000/simulacoes?tipoIndexacao=pre&tipoRendimento=liquido").then((e=>e.json())).then((e=>{const{semAporte:t,comAporte:o}=e[0].graficoValores;formatApiReturn([t,o]),console.log("a")}));const e=localStorage.getItem("graphValues");let t=new google.visualization.arrayToDataTable(JSON.parse(e));var o=new google.visualization.ColumnChart(document.getElementById("graph-column")),a=new google.visualization.BarChart(document.getElementById("graph-bar"));o.draw(t,{isStacked:!0,legend:"bottom",width:"85%",height:200,colors:["#000000","#ED8E53"],chartArea:{left:60,width:"85%"},bar:{groupWidth:"85%"},hAxis:{title:"Tempo (em meses)"},vAxis:{title:"Valor (R$)"}}),a.draw(t,{isStacked:!0,legend:"bottom",width:"100%",height:400,colors:["#000000","#ED8E53"],bar:{groupWidth:"85%"},vAxis:{title:"Tempo (em meses)"},hAxis:{title:"Valor (R$)"}})}